<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>Your Website</title>
</head>
<body>

    <header>
        <div>    
<i class="fas fa-user" id="font"></i>
<i class="fas fa-search" id="ser"></i>
            <input type="text" placeholder="Search" class="search-bar">
            <button class="main">Login</button>
            <button class="main">Sign up</button>
        </div>
    </header>

    <section class="logo-section">
        <img src="logoo.jpg" alt="Your Logo" class="logo">
    </section>

    <nav class="navbar navbar-expand-sm " id="nav">
        <div class="container-fluid">
        <ul class="navbar-nav  mx-auto">
            <li class="nav-item ">
                <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="categories.html">Categories</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="cart.html">Cart</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="Payment_Recipt.html">Payment Receipt</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="contact.html">Contact Us</a>
            </li> <div class="dropdown">
                <button class="dropbtn">Categories
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                <a href="#">Fiction</a>
                <a href="#">Dystopian</a>
                <a href="#">Science Fiction</a>
                <a href="#">Fantasy</a>
                <a href="#">Mystery</a>
                <a href="#">Historical Fiction</a>
                <a href="#">Gothic</a>
                <a href="#">Horror</a>
                <a href="#">Philosophical</a>
                <a href="#">Contemporary</a>
                <a href="#">Autobiographical</a>
                <a href="#">Adventure</a>
                </div>
            </div> 
        </ul>
        </div>
    </nav>

    <h2 class="cate">Select Your Favorite.</h2>
    <div class="category-container" id="categoryContainer"></div>
    <hr>
<h2 class="cate">Available Books </h2>
<h3 class="cate">Hope You Like it</h3>
    <div class="books-container" id="booksContainer"></div>

    <footer class="foot">
        <p>&copy; 2023 House of books. All rights reserved.</p>
    </footer>
    <script>
        const categories = ['Fiction', 'Dystopian', 'Science Fiction', 'Fantasy', 'Mystery', 'Historical Fiction', 'Gothic', 'Horror', 'Philosophical', 'Contemporary', 'Autobiographical', 'Adventure'];

const categoryContainer = document.getElementById('categoryContainer');
const booksContainer = document.getElementById('booksContainer');

// Display categories
categories.forEach(category => {
    const categoryBox = document.createElement('div');
    categoryBox.classList.add('category-box');
    categoryBox.textContent = category;
    categoryBox.addEventListener('click', () => displayBooksByCategory(category));
    categoryContainer.appendChild(categoryBox);
});


fetch('books.json')
    .then(response => response.json())
    .then(data => {
        window.booksData = data;
        displayBooksByCategory(categories[0]); 
    });
function displayBooksByCategory(category) {
    booksContainer.innerHTML = '';
    const booksInCategory = window.booksData.filter(book => book.category === category);
    booksInCategory.forEach(book => {
        const bookCard = document.createElement('div');
        bookCard.classList.add('book-card');
    
        const img = document.createElement('img');
        img.classList.add('book-img');
        img.src = book.cover_image;
        img.alt = `${book.title} Cover`;
        bookCard.appendChild(img);

        bookCard.innerHTML += `
            <h5>${book.title}</h5>
            <p>Author: ${book.author}</p>
            <p>Price: $${book.price.toFixed(2)}</p>
        `;
        const btnContainer = document.createElement('div');
        btnContainer.classList.add('btn-container');

        const btnAddToCart = document.createElement('button');
        btnAddToCart.classList.add('btn', 'btn-danger', 'btn-add-to-cart');
        btnAddToCart.textContent = 'Add to Cart';
        btnAddToCart.addEventListener('click', () => addToCart(book));

        const btnViewCart = document.createElement('button');
        btnViewCart.classList.add('btn', 'btn-secondary', 'btn-view-cart');
        btnViewCart.textContent = 'View Cart';
        btnViewCart.addEventListener('click', () => viewCart());

        btnContainer.appendChild(btnAddToCart);
        btnContainer.appendChild(btnViewCart);

        bookCard.appendChild(btnContainer);

        booksContainer.appendChild(bookCard);
    });
}

function addToCart(book) {
    let cartItems = JSON.parse(localStorage.getItem('cart')) || [];
const existingCartItem = cartItems.find(item => item.title === book.title);

    if (existingCartItem) {
existingCartItem.quantity += 1;
    } else {
        cartItems.push({
            title: book.title,
            price: book.price,
            quantity: 1
        });
    }

    localStorage.setItem('cart', JSON.stringify(cartItems));
    alert('Book added to cart!');
}

// Function to view the cart
function viewCart() {
    window.location.href = 'cart.html';
}
        
    </script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
</html>